<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ConvÃªnio do Colaborador | Biovetfarma</title>
    <meta name="description" content="Portal do convÃªnio Biovetfarma para colaboradores enviarem orÃ§amentos, acompanharem aprovaÃ§Ãµes e acessarem benefÃ­cios." />
    <meta name="theme-color" content="#1A7175" />
    <link rel="manifest" href="./manifest.webmanifest" />
    <link rel="icon" type="image/svg+xml" href="./assets/icons/favicon.svg" />
    <link rel="apple-touch-icon" href="./assets/icons/apple-touch-icon.svg" />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <noscript>Para utilizar o convÃªnio, habilite o JavaScript no seu navegador.</noscript>
    <header>
      <div class="header-inner">
        <a class="brand" href="#" data-view="home">
          <img src="./assets/brand/logo-header.svg" alt="Logotipo Biovetfarma" />
          <h1>
            Biovetfarma
            <span>ConvÃªnio do colaborador</span>
          </h1>
        </a>
        <nav>
          <button class="nav-button active" data-view="home"><span class="icon">ğŸ </span> Home</button>
          <button class="nav-button" data-view="compras"><span class="icon">ğŸ›’</span> Compras</button>
          <button class="nav-button" data-view="historico"><span class="icon">ğŸ“š</span> HistÃ³rico</button>
          <button class="nav-button admin-only" data-view="admin"><span class="icon">ğŸ›¡ï¸</span> Admin</button>
          <button class="nav-button" data-view="sair"><span class="icon">ğŸšª</span> Sair</button>
        </nav>
        <div class="profile-chip">
          <span class="icon">ğŸ”</span>
          <span><strong>Visitante</strong><br />Entre para usar o convÃªnio</span>
        </div>
      </div>
    </header>

    <main>
      <section id="home" data-view="home" class="active">
        <div class="hero">
          <div class="hero-content">
            <p class="badge">Portal exclusivo para colaboradores Biovetfarma</p>
            <h2 id="homeGreeting">Bem-vindo ao convÃªnio Biovetfarma!</h2>
            <p>
              Simplificamos o processo de compras especiais para que vocÃª, colaborador, tenha acesso a condiÃ§Ãµes diferenciadas dentro da Biovetfarma.
              Envie solicitaÃ§Ãµes, acompanhe aprovaÃ§Ãµes e organize todas as etapas em um sÃ³ lugar.
            </p>
            <div class="hero-actions">
              <button class="btn btn-primary" id="ctaStart">ComeÃ§ar agora</button>
              <button class="btn btn-outline" data-action="open-login">Entrar ou atualizar dados</button>
            </div>
          </div>
          <div class="hero-visual" aria-hidden="true">
            <img src="./assets/brand/logo-header.svg" alt="IlustraÃ§Ã£o Biovetfarma" />
          </div>
        </div>

        <div class="summary-grid">
          <article class="summary-card">
            <div class="icon">ğŸ—‚ï¸</div>
            <h3>SolicitaÃ§Ãµes enviadas</h3>
            <p class="lead"><span id="homeTotalRequests">00</span></p>
            <p class="helper-text">Todos os orÃ§amentos cadastrados no convÃªnio.</p>
          </article>
          <article class="summary-card">
            <div class="icon">â³</div>
            <h3>Em anÃ¡lise</h3>
            <p class="lead"><span id="homePendingRequests">00</span></p>
            <p class="helper-text">OrÃ§amentos aguardando aprovaÃ§Ã£o do administrador.</p>
          </article>
          <article class="summary-card">
            <div class="icon">âœ…</div>
            <h3>Aprovados</h3>
            <p class="lead"><span id="homeApprovedRequests">00</span></p>
            <p class="helper-text">SolicitaÃ§Ãµes liberadas para compra na empresa.</p>
          </article>
        </div>
      </section>

      <section id="compras" data-view="compras">
        <h2 class="section-title">Envie o nÃºmero do seu orÃ§amento</h2>
        <div class="card">
          <p class="helper-text">Informe o nÃºmero do orÃ§amento interno gerado pelo setor responsÃ¡vel e envie para anÃ¡lise da administraÃ§Ã£o Biovetfarma.</p>
          <form id="purchaseForm">
            <label for="numero">NÃºmero do orÃ§amento *</label>
            <input type="text" id="numero" name="numero" placeholder="Ex.: BVF-2024-001" required />

            <label for="observacoes">ObservaÃ§Ãµes ao administrador</label>
            <textarea id="observacoes" name="observacoes" placeholder="Compartilhe detalhes importantes para anÃ¡lise"></textarea>

            <div class="helper-text">* Somente nÃºmeros vÃ¡lidos serÃ£o avaliados. Certifique-se de que o orÃ§amento foi gerado internamente.</div>

            <button type="submit" class="btn btn-primary">
              <span class="icon">ğŸ“¨</span>
              Enviar para aprovaÃ§Ã£o
            </button>
          </form>
        </div>

        <aside class="info-panel">
          <h3>Como funciona?</h3>
          <ul>
            <li><span class="icon">1ï¸âƒ£</span>Informe o nÃºmero do orÃ§amento fornecido pelo setor comercial.</li>
            <li><span class="icon">2ï¸âƒ£</span>Nossa equipe administrativa recebe a solicitaÃ§Ã£o automaticamente.</li>
            <li><span class="icon">3ï¸âƒ£</span>Acompanhe o retorno de aprovaÃ§Ã£o ou ajustes na aba HistÃ³rico.</li>
          </ul>
        </aside>
      </section>

      <section id="historico" data-view="historico">
        <h2 class="section-title">HistÃ³rico de solicitaÃ§Ãµes</h2>
        <p class="helper-text">Acompanhe os orÃ§amentos enviados, visualize a data prevista para desconto em folha e utilize os filtros por status, mÃªs e colaborador (exclusivo para administradores).</p>

        <div class="filters">
          <div class="filter">
            <label for="historyFilterStatus">Status</label>
            <select id="historyFilterStatus">
              <option value="todas">Todas</option>
              <option value="pendente">Pendentes</option>
              <option value="aprovado">Aprovadas</option>
              <option value="negado">Negadas</option>
            </select>
          </div>
          <div class="filter admin-only">
            <label for="historyFilterCollaborator">Colaborador</label>
            <select id="historyFilterCollaborator">
              <option value="todos">Todos</option>
            </select>
          </div>
          <div class="filter">
            <label for="historyFilterMonth">MÃªs de desconto</label>
            <input type="month" id="historyFilterMonth" />
          </div>
          <div class="filter">
            <label for="historyFilterSearch">Buscar</label>
            <input type="search" id="historyFilterSearch" placeholder="Procure por nÃºmero ou observaÃ§Ãµes" />
          </div>
        </div>

        <div class="history-table-wrapper">
          <table aria-live="polite">
            <thead>
              <tr>
                <th scope="col">OrÃ§amento</th>
                <th scope="col">Enviado em</th>
                <th scope="col">Valor com desconto</th>
                <th scope="col">Desconto em</th>
                <th scope="col">Status</th>
              </tr>
            </thead>
            <tbody id="historyTableBody"></tbody>
          </table>
        </div>
        <div class="history-actions">
          <p id="historyTotals" class="helper-text"></p>
          <button class="btn btn-outline admin-only" id="historyPrintButton"><span class="icon">ğŸ–¨ï¸</span> Imprimir relatÃ³rio</button>
        </div>
      </section>

      <section id="admin" data-view="admin">
        <h2 class="section-title">GestÃ£o administrativa do convÃªnio</h2>
        <p class="helper-text">Autorize ou ajuste os orÃ§amentos enviados pelos colaboradores e programe o desconto em folha.</p>

        <div class="card">
          <div class="admin-filters">
            <div>
              <label for="adminFilterStatus">Status</label>
              <select id="adminFilterStatus">
                <option value="todos">Todos</option>
                <option value="pendente">Pendentes</option>
                <option value="aprovado">Aprovados</option>
                <option value="negado">Negados</option>
              </select>
            </div>
            <div>
              <label for="adminFilterSearch">Buscar</label>
              <input type="search" id="adminFilterSearch" placeholder="Procure por nÃºmero ou colaborador" />
            </div>
          </div>

          <div id="adminRequests" class="admin-requests"></div>
        </div>
      </section>

      <section id="sair" data-view="sair">
        <h2 class="section-title">Encerrar sessÃ£o</h2>
        <div class="logout-card">
          <div id="logoutInfo"></div>
          <button id="logoutButton" class="btn btn-primary"><span class="icon">ğŸ”’</span> Sair do convÃªnio</button>
          <p class="helper-text">Ao sair, seus dados permanecem salvos neste dispositivo, mas vocÃª precisarÃ¡ se identificar novamente para acessar as pÃ¡ginas de Compras e HistÃ³rico.</p>
        </div>
      </section>
    </main>

    <footer>
      <div class="footer-inner">
        <img src="./assets/icons/icon-192.svg" alt="Ãcone Biovetfarma" />
        <p>ConvÃªnio Biovetfarma &mdash; desenvolvido para cuidar de quem cuida. Acompanhe suas solicitaÃ§Ãµes com seguranÃ§a e comodidade, onde estiver.</p>
      </div>
    </footer>

    <div class="toast-container" aria-live="polite" aria-atomic="true"></div>

    <div class="modal-backdrop" id="loginBackdrop" role="dialog" aria-modal="true">
      <div class="modal" id="loginModal">
        <button type="button" class="modal-close" data-action="close-modal" aria-label="Fechar">&times;</button>
        <h3>Identifique-se</h3>
        <p class="helper-text">Use seu e-mail corporativo para que possamos personalizar o convÃªnio para vocÃª.</p>
        <form id="loginForm">
          <label for="loginName">Nome completo</label>
          <input type="text" id="loginName" required placeholder="Digite seu nome" />

          <label for="loginEmail">E-mail corporativo</label>
          <input type="email" id="loginEmail" required placeholder="nome.sobrenome@biovetfarma.com.br" />

          <label for="loginDepartment">Setor (opcional)</label>
          <input type="text" id="loginDepartment" placeholder="Ex.: Comercial, LaboratÃ³rio" />

          <button type="submit" class="btn btn-primary"><span class="icon">âœ¨</span> Entrar no convÃªnio</button>
        </form>
      </div>
    </div>

    <script src="./app.js"></script>
  </body>
</html>
